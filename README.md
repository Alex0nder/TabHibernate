# Tab Hibernate

Chrome-расширение (Manifest V3), которое снижает потребление памяти за счёт приостановки неактивных вкладок и создаёт бэкап их URL в закладках и в `chrome.storage.local`.

**Требования:** Chrome с поддержкой Manifest V3 (Chrome 88+).

## Установка

1. Клонируйте репозиторий или скачайте архив.
2. Откройте `chrome://extensions`.
3. Включите «Режим разработчика».
4. Нажмите «Загрузить распакованное расширение» и выберите папку проекта.

## Функции

- **Таймаут неактивности**: вкладка считается неактивной, если нет взаимодействия 5 минут (настраивается в popup: 5 / 10 / 15 мин).
- **Два режима приостановки**:
  - **Discard** — `chrome.tabs.discard(tabId)` (вкладка выгружается, при клике перезагружается).
  - **Placeholder** — редирект на страницу расширения с кнопкой «Восстановить» исходный URL.
- **Бэкап**: при приостановке и по кнопке «Бэкап вкладок сейчас» — закладки в папке **Tab Backup / YYYY-MM-DD** и JSON в `chrome.storage.local`.
- **Ручная приостановка**: кнопка «Приостановить все вкладки» в popup.
- **Исключения**: не приостанавливаются активная вкладка, закреплённые, со звуком, `chrome://`, `chrome-extension://`, инкогнито.

## Ограничения

- При приостановке (discard или placeholder) страница выгружается. **Несохранённые данные в формах и состояние SPA могут быть потеряны** — используйте сохранение/автосохранение на важных страницах.

## Структура

- `manifest.json` — MV3, permissions, background, content_script.
- `service_worker.js` — таймер (alarms), учёт активности, логика suspend и бэкапа.
- `content_script.js` — отправка событий активности (mousemove, keydown, scroll) в service worker.
- `popup.html` / `popup.js` — настройки, бэкап, ручная приостановка, статистика.
- `theme.css` — тёмная минималистичная тема.
- `suspended.html` / `suspended.js` — страница-заглушка в режиме Placeholder с кнопкой «Восстановить».
- `DEVELOPMENT.md` — план развития и стабильности.

## Лицензия

MIT.
