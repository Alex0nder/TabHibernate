# Tab Hibernate

Chrome-расширение (Manifest V3), которое снижает потребление памяти: приостанавливает неактивные вкладки по таймауту или вручную, сохраняет URL в закладки и локальное хранилище. Интерфейс открывается в **боковой панели** (Side Panel) по клику на иконку.

- **Репозиторий:** [github.com/Alex0nder/TabHibernate](https://github.com/Alex0nder/TabHibernate)

**Требования:** Chrome 88+ с поддержкой Manifest V3 и Side Panel (рекомендуется Chrome 114+).

---

## Установка

1. Клонируйте репозиторий или скачайте архив.
2. Откройте `chrome://extensions`.
3. Включите **Режим разработчика**.
4. Нажмите **Загрузить распакованное расширение** и выберите папку проекта.

---

## Возможности

- **Таймаут неактивности** — вкладка считается неактивной при отсутствии действий 5–60 минут (настраивается в панели).
- **Два режима приостановки:**
  - **Discard** — выгрузка вкладки через Chrome API; повторное открытие по клику.
  - **Placeholder** — переход на страницу-заглушку расширения с кнопкой **Restore** для восстановления исходного URL.
- **Бэкап:** при приостановке и по кнопке — закладки в папке **Tab Backup / дата** и данные в `chrome.storage.local`.
- **Ручные действия:** приостановить текущую вкладку, приостановить все, восстановить все, закрыть все и сохранить в историю.
- **История (History):** список «Closed and saved», экспорт/импорт JSON, открыть выбранные или все вкладки; после «Open all» история очищается.
- **Счётчик на иконке** — число вкладок в заглушке плюс записей в истории (свернуто/сохранено).
- **Исключения:** активная вкладка, закреплённые, со звуком, `chrome://`, `chrome-extension://` и инкогнито не приостанавливаются.

---

## Ограничения

При приостановке (discard или placeholder) страница выгружается. **Несохранённые формы и состояние SPA могут быть потеряны** — сохраняйте важные данные заранее.

---

## Структура проекта

| Файл | Назначение |
|------|------------|
| `manifest.json` | MV3, права, Side Panel, content script |
| `service_worker.js` | Таймер, учёт активности, приостановка, бэкап, бейдж |
| `content_script.js` | Отправка активности (мышь, клавиатура, скролл) в service worker |
| `side_panel.html` / `popup.js` | Панель настроек, кнопки, счётчик |
| `popup.html` | Резервный popup (логика общая с side panel) |
| `history.html` / `history.js` | Страница истории: экспорт/импорт, список, открытие вкладок |
| `suspended.html` / `suspended.js` | Страница-заглушка с кнопкой Restore |
| `theme.css` | Тёмная тема |
| `icons/` | Иконки (галочка, стрелка селекта) |
| `DEVELOPMENT.md` | Дорожная карта и заметки по разработке |

---

## Лицензия

MIT.
